<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Unknown Engine: UnknownEngine::Core::PackedMessage Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Unknown Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/d8a/namespace_unknown_engine.html">UnknownEngine</a></li><li class="navelem"><a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html">Core</a></li><li class="navelem"><a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html">PackedMessage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d2/dd4/class_unknown_engine_1_1_core_1_1_packed_message-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UnknownEngine::Core::PackedMessage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic message class to be sent over a message bus.  
 <a href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d4/d6a/_packed_message_8h_source.html">PackedMessage.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac19e94d33ff64c850463e2ec64b79285"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html#ac19e94d33ff64c850463e2ec64b79285">PackedMessage</a> (const <a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html#a0568e10c04732001d0f3bd918c8cc77a">NumericIdentifierType</a> &amp;message_type_id, const <a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a> &amp;sender_info)</td></tr>
<tr class="memdesc:ac19e94d33ff64c850463e2ec64b79285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ac19e94d33ff64c850463e2ec64b79285">More...</a><br /></td></tr>
<tr class="separator:ac19e94d33ff64c850463e2ec64b79285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81794debf662004b3363c8cce9e13cb0"><td class="memItemLeft" align="right" valign="top">virtual UNKNOWNENGINE_INLINE <br class="typebreak" />
<a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html#af00240bf40c5eb10c33c0276c97fad98">MessageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html#a81794debf662004b3363c8cce9e13cb0">getMessageTypeId</a> () const </td></tr>
<tr class="memdesc:a81794debf662004b3363c8cce9e13cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns numeric message type identifier.  <a href="#a81794debf662004b3363c8cce9e13cb0">More...</a><br /></td></tr>
<tr class="separator:a81794debf662004b3363c8cce9e13cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba1eba95246fed4ce50f2c2fa730280"><td class="memItemLeft" align="right" valign="top">UNKNOWNENGINE_INLINE <br class="typebreak" />
<a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html#a1ba1eba95246fed4ce50f2c2fa730280">getSenderInfo</a> () const </td></tr>
<tr class="memdesc:a1ba1eba95246fed4ce50f2c2fa730280"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about message sender.  <a href="#a1ba1eba95246fed4ce50f2c2fa730280">More...</a><br /></td></tr>
<tr class="separator:a1ba1eba95246fed4ce50f2c2fa730280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05745ec6d553d6b1bda74605abaf7682"><td class="memItemLeft" align="right" valign="top">UNKNOWNENGINE_INLINE <a class="el" href="../../dc/dfe/class_unknown_engine_1_1_core_1_1_properties.html">Properties</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html#a05745ec6d553d6b1bda74605abaf7682">getProperties</a> ()</td></tr>
<tr class="memdesc:a05745ec6d553d6b1bda74605abaf7682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns non-const map of properties avaiable to edit.  <a href="#a05745ec6d553d6b1bda74605abaf7682">More...</a><br /></td></tr>
<tr class="separator:a05745ec6d553d6b1bda74605abaf7682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28fdb8a44fae5bd10b95024d0fa475d3"><td class="memItemLeft" align="right" valign="top">UNKNOWNENGINE_INLINE const <br class="typebreak" />
<a class="el" href="../../dc/dfe/class_unknown_engine_1_1_core_1_1_properties.html">Properties</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html#a28fdb8a44fae5bd10b95024d0fa475d3">getProperties</a> () const </td></tr>
<tr class="memdesc:a28fdb8a44fae5bd10b95024d0fa475d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns const read-only map of properties.  <a href="#a28fdb8a44fae5bd10b95024d0fa475d3">More...</a><br /></td></tr>
<tr class="separator:a28fdb8a44fae5bd10b95024d0fa475d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic message class to be sent over a message bus. </p>
<h3>Concept</h3>
<p>Packed message is a generic message representation. It is defined by:</p><ul>
<li><a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html#af00240bf40c5eb10c33c0276c97fad98">type</a>. Used to dispatch message to listeners.</li>
<li><a class="el" href="../../dc/dfe/class_unknown_engine_1_1_core_1_1_properties.html">properties</a> with std::string keys. Holds actual data.</li>
<li><a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">information about sender</a>. Can be used in different ways (e.g. filter out messages)</li>
</ul>
<h3>Usage</h3>
<p>When user code wants to pass some command/information to some component/subsystem, it creates a packed message, fills it's properties and passes it to a <a class="el" href="../../de/dfd/class_unknown_engine_1_1_core_1_1_message_dispatcher.html#a14a5ad979e45eb2bee373ddedafbec2c" title="Delivers message to all registered listeners. ">MessageDispatcher::deliverMessage()</a> method. User code must specify a sender info. One way to do this is to inherit class which wants to send message from <a class="el" href="../../db/db8/class_unknown_engine_1_1_core_1_1_i_message_system_participant.html" title="Base class for all who wants to send/receive messages through message system. ">IMessageSystemParticipant</a> base class and then pass the info returned by <a class="el" href="../../db/db8/class_unknown_engine_1_1_core_1_1_i_message_system_participant.html#acffb7000d303979ece9cb6a9d8d52b05" title="Returns message system participant&#39;s identifier. ">IMessageSystemParticipant::getMessageSystemParticipantId()</a> to the message.</p>
<h3>Notes</h3>
<p><b>It's not recommended to compose a packed message manually (although you still can).</b> The better way is to use a concept of <a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html">message packer</a>/ <a class="el" href="../../d3/da2/class_unknown_engine_1_1_core_1_1_message_unpacker.html">message unpacker</a> which can convert a concrete message class to a packed message and vice versa. Message packers and unpackers can check message's format and notify user that something is wrong (e.g. mandatory parameters are not set or there is an incorrect value). Packers and unpackers are recommended to be exposed in header files of subsystem along with a concrete message types defined in subsystem.</p>
<p>Packing message as properties map could be replaced with something more performance-friendly later. So if you've decided to compose packed message manually you must remember that if the format of packing will change, you will need to **rewrite all parts of code where you've sent messages***. Using a concept of packer/unpacker you will just need to rewrite packers/unpackers which is much easier to do. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac19e94d33ff64c850463e2ec64b79285"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UnknownEngine::Core::PackedMessage::PackedMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html#a0568e10c04732001d0f3bd918c8cc77a">NumericIdentifierType</a> &amp;&#160;</td>
          <td class="paramname"><em>message_type_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a> &amp;&#160;</td>
          <td class="paramname"><em>sender_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_type_id</td><td>- numeric identifier of message type (can be obtained by call to <a class="el" href="../../d1/d29/class_unknown_engine_1_1_core_1_1_message_dictionary.html" title="Class that manages assigning numeric identifiers to string message types. ">MessageDictionary</a>) </td></tr>
    <tr><td class="paramname">sender_info</td><td>- information about message sender </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a81794debf662004b3363c8cce9e13cb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual UNKNOWNENGINE_INLINE <a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html#af00240bf40c5eb10c33c0276c97fad98">MessageType</a> UnknownEngine::Core::PackedMessage::getMessageTypeId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns numeric message type identifier. </p>
<dl class="section return"><dt>Returns</dt><dd>Numeric message type identifier. </dd></dl>

</div>
</div>
<a class="anchor" id="a05745ec6d553d6b1bda74605abaf7682"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UNKNOWNENGINE_INLINE <a class="el" href="../../dc/dfe/class_unknown_engine_1_1_core_1_1_properties.html">Properties</a>&amp; UnknownEngine::Core::PackedMessage::getProperties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns non-const map of properties avaiable to edit. </p>
<dl class="section return"><dt>Returns</dt><dd>Non-const properties map </dd></dl>

</div>
</div>
<a class="anchor" id="a28fdb8a44fae5bd10b95024d0fa475d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UNKNOWNENGINE_INLINE const <a class="el" href="../../dc/dfe/class_unknown_engine_1_1_core_1_1_properties.html">Properties</a>&amp; UnknownEngine::Core::PackedMessage::getProperties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns const read-only map of properties. </p>
<dl class="section return"><dt>Returns</dt><dd>Read-only map of properties </dd></dl>

</div>
</div>
<a class="anchor" id="a1ba1eba95246fed4ce50f2c2fa730280"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">UNKNOWNENGINE_INLINE <a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a> UnknownEngine::Core::PackedMessage::getSenderInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information about message sender. </p>
<dl class="section return"><dt>Returns</dt><dd>Information about message sender </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ComponentSystem/include/MessageSystem/<a class="el" href="../../d4/d6a/_packed_message_8h_source.html">PackedMessage.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 15 2014 18:11:02 for Unknown Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
