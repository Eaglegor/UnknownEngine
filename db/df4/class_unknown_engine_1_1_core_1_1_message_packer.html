<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Unknown Engine: UnknownEngine::Core::MessagePacker&lt; T &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Unknown Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d4/d8a/namespace_unknown_engine.html">UnknownEngine</a></li><li class="navelem"><a class="el" href="../../de/d37/namespace_unknown_engine_1_1_core.html">Core</a></li><li class="navelem"><a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html">MessagePacker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d6/def/class_unknown_engine_1_1_core_1_1_message_packer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UnknownEngine::Core::MessagePacker&lt; T &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to convert from concrete message class to a packed message.  
 <a href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../da/d32/_message_packer_8h_source.html">MessagePacker.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59a19cacf2442a5501cd309e52adddba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html#a59a19cacf2442a5501cd309e52adddba">MessagePacker</a> (const <a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a> &amp;<a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html#a04d6a0ecdf26c65ba212f15032005801">sender_info</a>)</td></tr>
<tr class="memdesc:a59a19cacf2442a5501cd309e52adddba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construcror.  <a href="#a59a19cacf2442a5501cd309e52adddba">More...</a><br /></td></tr>
<tr class="separator:a59a19cacf2442a5501cd309e52adddba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0003f5e17653314d467f9a4d430d6d9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html">PackedMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html#ac0003f5e17653314d467f9a4d430d6d9">packMessage</a> (const T &amp;msg)=0</td></tr>
<tr class="memdesc:ac0003f5e17653314d467f9a4d430d6d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a concrete message class to a packed message.  <a href="#ac0003f5e17653314d467f9a4d430d6d9">More...</a><br /></td></tr>
<tr class="separator:ac0003f5e17653314d467f9a4d430d6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a04d6a0ecdf26c65ba212f15032005801"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04d6a0ecdf26c65ba212f15032005801"></a>
<a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html#a04d6a0ecdf26c65ba212f15032005801">sender_info</a></td></tr>
<tr class="memdesc:a04d6a0ecdf26c65ba212f15032005801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Id of sender. <br /></td></tr>
<tr class="separator:a04d6a0ecdf26c65ba212f15032005801"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class UnknownEngine::Core::MessagePacker&lt; T &gt;</h3>

<p>Class to convert from concrete message class to a packed message. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Concrete message class</td></tr>
  </table>
  </dd>
</dl>
<h3>Concept</h3>
<p>Message dispatcher works with generic packed message containing some data having no compile time defined value types and names. Because we can't guarantee the correctness of manual packed message composing (there may be mistypes, incorrect values, copy-paste errors, missing mandatory fields etc.) we recommend to expose not just a message type but a concrete message class with 2 helper classes - message packer and message unpacker. The purpose of message packer is to convert a concrete message class (e.g. <a class="el" href="../../d7/daa/struct_unknown_engine_1_1_core_1_1_log_message.html" title="Log entry message. ">LogMessage</a>) to the packed message using the appropriate format. The pair of message packer - the message unpacker - will then perform the vice versa conversion checking the message format.</p>
<h3>Usage</h3>
<p>The user code works with compile-time checked message classes exposed in header files of subsystem. The message packer and message unpacker need to be provided by a subsystem when declaring a message. When the user code wants to send message it creates a message class instance (e.g. <a class="el" href="../../d7/daa/struct_unknown_engine_1_1_core_1_1_log_message.html" title="Log entry message. ">LogMessage</a>). Then it passes it to the message packer's <a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html#ac0003f5e17653314d467f9a4d430d6d9" title="Converts a concrete message class to a packed message. ">packMessage()</a> method and gets a <a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html" title="Generic message class to be sent over a message bus. ">PackedMessage</a> in the appropriate format. After that this message can be sent with message dispatcher. When a listener receives the message it calls a message unpacker's method unpackMessage() and gets back a concrete message class, which fields name and type is checked at compile-time. The rule is: <b>Don't try to compose packed messages manually: use packer/unpacker model</b>. This rule is useful due to the fact that sometimes we may change the format of packed message for performance boost. If we use packer/unpacker model we just rewrite some isolated converter classes and don't touch logic part of code.</p>
<h3>Notes</h3>
<p>There is no magic. The user code still must know which message class it's converting and use an appropriate packer. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a59a19cacf2442a5501cd309e52adddba"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html">UnknownEngine::Core::MessagePacker</a>&lt; T &gt;::<a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html">MessagePacker</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d06/struct_unknown_engine_1_1_core_1_1_message_system_participant_id.html">MessageSystemParticipantId</a> &amp;&#160;</td>
          <td class="paramname"><em>sender_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construcror. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender_info</td><td>- a message system participant id of sender </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac0003f5e17653314d467f9a4d430d6d9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../dd/d1e/class_unknown_engine_1_1_core_1_1_packed_message.html">PackedMessage</a> <a class="el" href="../../db/df4/class_unknown_engine_1_1_core_1_1_message_packer.html">UnknownEngine::Core::MessagePacker</a>&lt; T &gt;::packMessage </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a concrete message class to a packed message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>- Concrete message object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Packed message ready to be sent with a message dispatcher </dd></dl>

<p>Implemented in <a class="el" href="../../df/d34/class_unknown_engine_1_1_core_1_1_update_frame_message_packer.html#a96a693f49a1d816d3418e538bc3cf1b6">UnknownEngine::Core::UpdateFrameMessagePacker</a>, and <a class="el" href="../../d5/dc1/class_unknown_engine_1_1_core_1_1_log_message_packer.html#a0d8fce9c763eed097fbdfccc4de95db9">UnknownEngine::Core::LogMessagePacker</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ComponentSystem/include/MessageSystem/<a class="el" href="../../da/d32/_message_packer_8h_source.html">MessagePacker.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 15 2014 18:11:01 for Unknown Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
